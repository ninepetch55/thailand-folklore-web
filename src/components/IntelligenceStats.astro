---
const stats = [
  { label: "EXPERIENCE", val: 10, suf: "Yrs" },
  { label: "NETWORK", val: 50, suf: "Nodes" },
  { label: "REACHED", val: 20, suf: "Cities" },
  { label: "IMPACT", val: 100, suf: "M+" }
];
---
<section class="stats-master">
  <svg class="silk-path" viewBox="0 0 1440 100" preserveAspectRatio="none">
    <path id="silk-run" d="M0,50 Q360,0 720,50 T1440,50" stroke="#bf953f" stroke-width="5" fill="none" />
  </svg>

  <div class="stats-container">
    {stats.map((s) => (
      <div class="stat-item group">
        <p class="tag">{s.label}</p>
        <div class="orb-visual">
          <div class="ring-rotating"></div>
          <div class="ring-static"></div>
          <div class="glow-pulse"></div>
          <div class="num-box font-serif italic">
            <span class="count" data-target={s.val}>0</span>
            <span class="suf">{s.suf}</span>
          </div>
        </div>
      </div>
    ))}
  </div>
</section>

<style>
  .stats-master { position: relative; width: 100%; padding: 100px 0 180px 0; background: #F9F8F6; overflow: hidden; display: flex; justify-content: center; z-index: 20; }
  .silk-path { position: absolute; top: 60%; left: 0; width: 100%; height: 80px; opacity: 0.4; }
  #silk-run { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw 12s linear infinite; }
  @keyframes draw { to { stroke-dashoffset: 0; } }

  .stats-container { position: relative; z-index: 30; display: flex; justify-content: space-around; width: 100%; max-width: 1400px; }
  .stat-item { text-align: center; flex: 1; display: flex; flex-direction: column; align-items: center; }
  .tag { font-size: 10px; letter-spacing: 0.6em; color: #bf953f; font-weight: bold; margin-bottom: 40px; }

  /* ðŸ”® Living Orb Mechanics */
  .orb-visual { position: relative; width: 220px; height: 220px; display: flex; align-items: center; justify-content: center; }
  .ring-rotating { position: absolute; inset: 0; border: 1.5px solid rgba(191,149,63,0.3); border-radius: 50%; animation: rot 15s linear infinite; }
  .ring-static { position: absolute; inset: 10px; border: 0.5px solid rgba(191,149,63,0.1); border-radius: 50%; }
  .glow-pulse { position: absolute; inset: -20px; background: radial-gradient(circle, rgba(191,149,63,0.15) 0%, transparent 70%); opacity: 0; transition: 0.6s; }

  .stat-item:hover .ring-rotating { border-color: #bf953f; border-width: 3px; transform: scale(1.1); box-shadow: 0 0 30px rgba(191,149,63,0.3); }
  .stat-item:hover .glow-pulse { opacity: 1; }
  
  @keyframes rot { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

  .num-box { font-size: 6rem; color: #1a1a1a; transition: 0.5s; z-index: 5; display: flex; align-items: baseline; }
  .stat-item:hover .num-box { color: #bf953f; transform: translateY(-5px); }
  .suf { font-size: 1.5rem; margin-left: 5px; }

  @media (max-width: 1024px) { .stats-container { flex-direction: column; gap: 80px; } }
</style>

<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        const n = e.target.querySelector('.count');
        if (n && n.innerText === "0") {
          let s = 0; const t = parseInt(n.dataset.target);
          const i = setInterval(() => { s += Math.ceil(t / 40); if (s >= t) { n.innerText = t; clearInterval(i); } else n.innerText = s; }, 30);
        }
      }
    });
  }, { threshold: 0.5 });
  document.querySelectorAll('.stat-item').forEach(el => observer.observe(el));
</script>